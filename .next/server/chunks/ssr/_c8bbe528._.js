module.exports=[92087,a=>{"use strict";a.s(["usePayment",()=>d]);var b=a.i(27669),c=a.i(52585);let d=()=>{let[a,d]=(0,b.useState)(!1),[e,f]=(0,b.useState)(null);return{loading:a,error:e,createEnrollment:async(a,b)=>{try{d(!0),f(null);let{data:{user:b}}=await c.supabase.auth.getUser();if(!b)throw Error("User not authenticated");let{data:e,error:g}=await c.supabase.from("course_enrollments").insert([{user_id:b.id,course_id:a}]).select().single();if(g)throw g;return{data:e,error:null}}catch(a){return f(a.message),{data:null,error:a.message}}finally{d(!1)}},updatePaymentStatus:async(a,b,e)=>{try{d(!0),f(null);let{data:b,error:e}=await c.supabase.from("course_enrollments").update({updated_at:new Date().toISOString()}).eq("id",a).select().single();if(e)throw e;return{data:b,error:null}}catch(a){return f(a.message),{data:null,error:a.message}}finally{d(!1)}},getUserEnrollments:async()=>{try{d(!0),f(null);let{data:{user:a}}=await c.supabase.auth.getUser();if(!a)throw Error("User not authenticated");let{data:b,error:e}=await c.supabase.from("course_enrollments").select(`
          *,
          courses(title, slug, featured_image, price)
        `).eq("user_id",a.id).order("enrolled_at",{ascending:!1});if(e)throw e;return{data:b,error:null}}catch(a){return f(a.message),{data:null,error:a.message}}finally{d(!1)}}}}},91876,a=>a.a(async(b,c)=>{try{a.s(["CoursesPage",()=>x,"default",()=>y]);var d=a.i(8171),e=a.i(27669),f=a.i(58104),g=a.i(89202),h=a.i(91404),i=a.i(77691),j=a.i(52569),k=a.i(45458),l=a.i(96734),m=a.i(26553),n=a.i(48947),o=a.i(10151),p=a.i(21154);a.i(52585);var q=a.i(29830),r=a.i(75119),s=a.i(92087),t=a.i(87099),u=a.i(94373),v=a.i(23414),w=b([g,h,i,j,k,u,v]);[g,h,i,j,k,u,v]=w.then?(await w)():w;let x=()=>{let[a,b]=(0,e.useState)([]),[c,w]=(0,e.useState)(!0),[x,y]=(0,e.useState)(""),[z,A]=(0,e.useState)(""),[B,C]=(0,e.useState)(""),{categories:D}=(0,r.useCategories)(),{createEnrollment:E}=(0,s.usePayment)(),F=[{id:1,title:"Churrasco Perfeito",description:"Aprenda todas as técnicas para fazer o churrasco perfeito, desde a escolha da carne até o ponto ideal.",featured_image:"https://images.unsplash.com/photo-1529193591184-b1d58069ecdd?w=400&h=300&fit=crop",price:149.9,level:"Intermediário",duration_hours:8,lessons_count:12,students_count:245,rating:4.8,instructor_name:"Chef Rodrigo",category_name:"Carnes",status:"published"},{id:2,title:"Massas Artesanais",description:"Domine a arte de fazer massas frescas em casa, desde o básico até receitas mais elaboradas.",featured_image:"https://images.unsplash.com/photo-1621996346565-e3dbc353d2e5?w=400&h=300&fit=crop",price:99.9,level:"Iniciante",duration_hours:6,lessons_count:10,students_count:189,rating:4.7,instructor_name:"Chef Rodrigo",category_name:"Massas",status:"published"},{id:3,title:"Frutos do Mar Gourmet",description:"Técnicas profissionais para preparar pratos sofisticados com frutos do mar.",featured_image:"https://images.unsplash.com/photo-1467003909585-2f8a72700288?w=400&h=300&fit=crop",price:199.9,level:"Avançado",duration_hours:10,lessons_count:15,students_count:156,rating:4.9,instructor_name:"Chef Rodrigo",category_name:"Frutos do Mar",status:"published"}];(0,e.useEffect)(()=>{G()},[]);let G=async()=>{try{w(!0);let{data:a,error:c}=await q.courses.getPublished();c||!a||0===a.length?b(F):b(a)}catch(a){b(F)}finally{w(!1)}},H=async(a,b)=>{try{(await E(a,{method:"stripe",amount:b,transactionId:`temp_${Date.now()}`})).data?v.toast.success("Inscrição realizada com sucesso!"):v.toast.error("Erro ao processar inscrição")}catch(a){v.toast.error("Erro ao processar inscrição")}},I=a.filter(a=>{let b=a.title.toLowerCase().includes(x.toLowerCase())||a.description.toLowerCase().includes(x.toLowerCase()),c=!z||"all"===z||a.category_name===z,d=!B||"all"===B||a.level===B;return b&&c&&d});return(0,d.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,d.jsx)(t.SEO,{title:"Cursos Online - Chef do Cotidiano",description:"Aprenda a cozinhar com nossos cursos online. Técnicas profissionais, receitas exclusivas e acompanhamento personalizado.",image:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=1200&h=630&fit=crop"}),(0,d.jsx)("section",{className:"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground py-16",children:(0,d.jsxs)("div",{className:"container mx-auto px-4 text-center",children:[(0,d.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Cursos Online de Culinária"}),(0,d.jsx)("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"Aprenda técnicas profissionais de culinária com o Chef Rodrigo. Cursos práticos e didáticos para todos os níveis."}),(0,d.jsxs)(h.Button,{size:"lg",variant:"secondary",children:[(0,d.jsx)(p.Play,{className:"h-5 w-5 mr-2"}),"Começar Agora"]})]})}),(0,d.jsx)("section",{className:"py-8 border-b",children:(0,d.jsx)("div",{className:"container mx-auto px-4",children:(0,d.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[(0,d.jsx)("div",{className:"flex-1",children:(0,d.jsx)(j.Input,{placeholder:"Buscar cursos...",value:x,onChange:a=>y(a.target.value),className:"max-w-md"})}),(0,d.jsxs)("div",{className:"flex gap-4",children:[(0,d.jsxs)(k.Select,{value:z,onValueChange:A,children:[(0,d.jsx)(k.SelectTrigger,{className:"w-48",children:(0,d.jsx)(k.SelectValue,{placeholder:"Todas as categorias"})}),(0,d.jsxs)(k.SelectContent,{children:[(0,d.jsx)(k.SelectItem,{value:"all",children:"Todas as categorias"}),D.map(a=>(0,d.jsx)(k.SelectItem,{value:a.name,children:a.name},a.id))]})]}),(0,d.jsxs)(k.Select,{value:B,onValueChange:C,children:[(0,d.jsx)(k.SelectTrigger,{className:"w-48",children:(0,d.jsx)(k.SelectValue,{placeholder:"Todos os níveis"})}),(0,d.jsxs)(k.SelectContent,{children:[(0,d.jsx)(k.SelectItem,{value:"all",children:"Todos os níveis"}),["Iniciante","Intermediário","Avançado"].map(a=>(0,d.jsx)(k.SelectItem,{value:a,children:a},a))]})]})]})]})})}),(0,d.jsx)("section",{className:"py-12",children:(0,d.jsx)("div",{className:"container mx-auto px-4",children:c?(0,d.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,d.jsx)("div",{role:"status","aria-label":"Carregando",className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"flex justify-between items-center mb-8",children:(0,d.jsxs)("h2",{className:"text-2xl font-bold",children:[I.length," curso",1!==I.length?"s":""," encontrado",1!==I.length?"s":""]})}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:I.map(a=>(0,d.jsxs)(g.Card,{className:"overflow-hidden hover:shadow-xl transition-shadow group cursor-pointer",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(u.LazyImage,{src:a.featured_image,alt:a.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),(0,d.jsx)("div",{className:"absolute top-4 right-4",children:(0,d.jsx)(i.Badge,{variant:"secondary",children:a.category_name})}),(0,d.jsx)("div",{className:"absolute bottom-4 left-4",children:(0,d.jsxs)(i.Badge,{className:"bg-green-600 text-white",children:["R$ ",a.price?.toFixed(2)]})})]}),(0,d.jsxs)(g.CardHeader,{children:[(0,d.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,d.jsx)(g.CardTitle,{className:"text-xl group-hover:text-primary transition-colors",children:a.title}),(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)(n.Star,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:a.rating})]})]}),(0,d.jsx)("p",{className:"text-muted-foreground text-sm",children:a.description})]}),(0,d.jsx)(g.CardContent,{children:(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center text-sm text-muted-foreground",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)(l.Clock,{className:"h-4 w-4"}),(0,d.jsxs)("span",{children:[a.duration_hours,"h"]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)(o.BookOpen,{className:"h-4 w-4"}),(0,d.jsxs)("span",{children:[a.lessons_count," aulas"]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)(m.Users,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:a.students_count})]})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("div",{children:(0,d.jsx)(i.Badge,{variant:"outline",children:a.level})}),(0,d.jsxs)("span",{className:"text-sm text-muted-foreground",children:["por ",a.instructor_name]})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(h.Button,{className:"flex-1",asChild:!0,children:(0,d.jsx)(f.Link,{to:`/courses/${a.id}`,children:"Ver Curso"})}),(0,d.jsx)(h.Button,{variant:"outline",onClick:()=>H(a.id,a.price),children:"Inscrever-se"})]})]})})]},a.id))}),0===I.length&&(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)(o.BookOpen,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),(0,d.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Nenhum curso encontrado"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"Tente ajustar os filtros ou buscar por outros termos."})]})]})})})]})},y=x;c()}catch(a){c(a)}},!1),44046,a=>a.a(async(b,c)=>{try{a.s(["config",()=>p,"default",()=>l,"getServerSideProps",()=>o,"getStaticPaths",()=>n,"getStaticProps",()=>m,"handler",()=>x,"reportWebVitals",()=>q,"routeModule",()=>w,"unstable_getServerProps",()=>u,"unstable_getServerSideProps",()=>v,"unstable_getStaticParams",()=>t,"unstable_getStaticPaths",()=>s,"unstable_getStaticProps",()=>r]);var d=a.i(54120),e=a.i(76177),f=a.i(49384),g=a.i(36062),h=a.i(95559),i=a.i(91876),j=a.i(62165),k=b([i]);[i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/CoursesPage",pathname:"/CoursesPage",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/CoursesPage",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=_c8bbe528._.js.map