(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,84400,e=>{"use strict";e.s(["Badge",()=>n]);var t=e.i(98401);e.i(79556);var r=e.i(83137),s=e.i(66181),i=e.i(53533);let a=(0,s.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:n,asChild:l=!1,children:o,...c}=e,d=l?r.Slot:"span";return(0,t.jsx)(d,{"data-slot":"badge",className:(0,i.cn)(a({variant:n}),s),...c,children:o})}},11300,47304,9268,34203,35877,e=>{"use strict";function t(e,t,r){if(!t.has(e))throw TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function r(e,r){var s=t(e,r,"get");return s.get?s.get.call(e):s.value}function s(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function i(e,t,r){s(e,t),t.set(e,r)}function a(e,r,s){var i=t(e,r,"set");if(i.set)i.set.call(e,s);else{if(!i.writable)throw TypeError("attempted to set read only private field");i.value=s}return s}e.s(["_",()=>r],11300),e.s(["_",()=>t],47304),e.s(["_",()=>i],34203),e.s(["_",()=>s],9268),e.s(["_",()=>a],35877)},37755,e=>{"use strict";e.s(["useSize",()=>s]);var t=e.i(79556),r=e.i(64617);function s(e){let[s,i]=t.useState(void 0);return(0,r.useLayoutEffect)(()=>{if(e){i({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,s;if(!Array.isArray(t)||!t.length)return;let a=t[0];if("borderBoxSize"in a){let e=a.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,s=t.blockSize}else r=e.offsetWidth,s=e.offsetHeight;i({width:r,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}i(void 0)},[e]),s}},26734,e=>{"use strict";e.s(["usePrevious",()=>r]);var t=e.i(79556);function r(e){let r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}},43978,41643,e=>{"use strict";e.s(["createCollection",()=>d],43978);var t,r=e.i(11300),s=e.i(34203),i=e.i(35877),a=e.i(79556),n=e.i(94735),l=e.i(28089),o=e.i(83137),c=e.i(98401);function d(e){let t=e+"CollectionProvider",[r,s]=(0,n.createContextScope)(t),[i,d]=r(t,{collectionRef:{current:null},itemMap:new Map}),u=e=>{let{scope:t,children:r}=e,s=a.default.useRef(null),n=a.default.useRef(new Map).current;return(0,c.jsx)(i,{scope:t,itemMap:n,collectionRef:s,children:r})};u.displayName=t;let h=e+"CollectionSlot",f=(0,o.createSlot)(h),m=a.default.forwardRef((e,t)=>{let{scope:r,children:s}=e,i=d(h,r),a=(0,l.useComposedRefs)(t,i.collectionRef);return(0,c.jsx)(f,{ref:a,children:s})});m.displayName=h;let p=e+"CollectionItemSlot",x="data-radix-collection-item",v=(0,o.createSlot)(p),g=a.default.forwardRef((e,t)=>{let{scope:r,children:s,...i}=e,n=a.default.useRef(null),o=(0,l.useComposedRefs)(t,n),u=d(p,r);return a.default.useEffect(()=>(u.itemMap.set(n,{ref:n,...i}),()=>void u.itemMap.delete(n))),(0,c.jsx)(v,{...{[x]:""},ref:o,children:s})});return g.displayName=p,[{Provider:u,Slot:m,ItemSlot:g},function(t){let r=d(e+"CollectionConsumer",t);return a.default.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll("[".concat(x,"]")));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},s]}var u=new WeakMap;function h(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);let r=function(e,t){let r=e.length,s=f(t),i=s>=0?s:r+s;return i<0||i>=r?-1:i}(e,t);return -1===r?void 0:e[r]}function f(e){return e!=e||0===e?0:Math.trunc(e)}t=new WeakMap,(class e extends Map{set(e,s){return u.get(this)&&(this.has(e)?(0,r._)(this,t)[(0,r._)(this,t).indexOf(e)]=e:(0,r._)(this,t).push(e)),super.set(e,s),this}insert(e,s,i){let a,n=this.has(s),l=(0,r._)(this,t).length,o=f(e),c=o>=0?o:l+o,d=c<0||c>=l?-1:c;if(d===this.size||n&&d===this.size-1||-1===d)return this.set(s,i),this;let u=this.size+ +!n;o<0&&c++;let h=[...(0,r._)(this,t)],m=!1;for(let e=c;e<u;e++)if(c===e){let t=h[e];h[e]===s&&(t=h[e+1]),n&&this.delete(s),a=this.get(t),this.set(s,i)}else{m||h[e-1]!==s||(m=!0);let t=h[m?e:e-1],r=a;a=this.get(t),this.delete(t),this.set(t,r)}return this}with(t,r,s){let i=new e(this);return i.insert(t,r,s),i}before(e){let s=(0,r._)(this,t).indexOf(e)-1;if(!(s<0))return this.entryAt(s)}setBefore(e,s,i){let a=(0,r._)(this,t).indexOf(e);return -1===a?this:this.insert(a,s,i)}after(e){let s=(0,r._)(this,t).indexOf(e);if(-1!==(s=-1===s||s===this.size-1?-1:s+1))return this.entryAt(s)}setAfter(e,s,i){let a=(0,r._)(this,t).indexOf(e);return -1===a?this:this.insert(a+1,s,i)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return(0,i._)(this,t,[]),super.clear()}delete(e){let s=super.delete(e);return s&&(0,r._)(this,t).splice((0,r._)(this,t).indexOf(e),1),s}deleteAt(e){let t=this.keyAt(e);return void 0!==t&&this.delete(t)}at(e){let s=h((0,r._)(this,t),e);if(void 0!==s)return this.get(s)}entryAt(e){let s=h((0,r._)(this,t),e);if(void 0!==s)return[s,this.get(s)]}indexOf(e){return(0,r._)(this,t).indexOf(e)}keyAt(e){return h((0,r._)(this,t),e)}from(e,t){let r=this.indexOf(e);if(-1===r)return;let s=r+t;return s<0&&(s=0),s>=this.size&&(s=this.size-1),this.at(s)}keyFrom(e,t){let r=this.indexOf(e);if(-1===r)return;let s=r+t;return s<0&&(s=0),s>=this.size&&(s=this.size-1),this.keyAt(s)}find(e,t){let r=0;for(let s of this){if(Reflect.apply(e,t,[s,r,this]))return s;r++}}findIndex(e,t){let r=0;for(let s of this){if(Reflect.apply(e,t,[s,r,this]))return r;r++}return -1}filter(t,r){let s=[],i=0;for(let e of this)Reflect.apply(t,r,[e,i,this])&&s.push(e),i++;return new e(s)}map(t,r){let s=[],i=0;for(let e of this)s.push([e[0],Reflect.apply(t,r,[e,i,this])]),i++;return new e(s)}reduce(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[s,i]=t,a=0,n=null!=i?i:this.at(0);for(let e of this)n=0===a&&1===t.length?e:Reflect.apply(s,this,[n,e,a,this]),a++;return n}reduceRight(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[s,i]=t,a=null!=i?i:this.at(-1);for(let e=this.size-1;e>=0;e--){let r=this.at(e);a=e===this.size-1&&1===t.length?r:Reflect.apply(s,this,[a,r,e,this])}return a}toSorted(t){return new e([...this.entries()].sort(t))}toReversed(){let t=new e;for(let e=this.size-1;e>=0;e--){let r=this.keyAt(e),s=this.get(r);t.set(r,s)}return t}toSpliced(){for(var t=arguments.length,r=Array(t),s=0;s<t;s++)r[s]=arguments[s];let i=[...this.entries()];return i.splice(...r),new e(i)}slice(t,r){let s=new e,i=this.size-1;if(void 0===t)return s;t<0&&(t+=this.size),void 0!==r&&r>0&&(i=r-1);for(let e=t;e<=i;e++){let t=this.keyAt(e),r=this.get(t);s.set(t,r)}return s}every(e,t){let r=0;for(let s of this){if(!Reflect.apply(e,t,[s,r,this]))return!1;r++}return!0}some(e,t){let r=0;for(let s of this){if(Reflect.apply(e,t,[s,r,this]))return!0;r++}return!1}constructor(e){super(e),(0,s._)(this,t,{writable:!0,value:void 0}),(0,i._)(this,t,[...super.keys()]),u.set(this,!0)}}),e.s(["useDirection",()=>p],41643);var m=a.createContext(void 0);function p(e){let t=a.useContext(m);return e||t||"ltr"}},3e3,e=>{"use strict";e.s(["Plus",()=>t],3e3);let t=(0,e.i(34462).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},94097,e=>{"use strict";e.s(["Trash2",()=>t],94097);let t=(0,e.i(34462).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},9772,e=>{"use strict";e.s(["Textarea",()=>s]);var t=e.i(98401);e.i(79556);var r=e.i(53533);function s(e){let{className:s,...i}=e;return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...i})}},56293,e=>{"use strict";e.s(["ArrowLeft",()=>t],56293);let t=(0,e.i(34462).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},95112,(e,t,r)=>{"use strict";r._=function(e){return e&&e.__esModule?e:{default:e}}},26319,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"HeadManagerContext",{enumerable:!0,get:function(){return s}});let s=e.r(95112)._(e.r(79556)).default.createContext({})},2492,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},87602,(e,t,r)=>{"use strict";function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}r._=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var l=a?Object.getOwnPropertyDescriptor(e,n):null;l&&(l.get||l.set)?Object.defineProperty(i,n,l):i[n]=e[n]}return i.default=e,r&&r.set(e,i),i}},46996,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{DecodeError:function(){return p},MiddlewareNotFoundError:function(){return j},MissingStaticPage:function(){return g},NormalizeError:function(){return x},PageNotFoundError:function(){return v},SP:function(){return f},ST:function(){return m},WEB_VITALS:function(){return s},execOnce:function(){return i},getDisplayName:function(){return c},getLocationOrigin:function(){return l},getURL:function(){return o},isAbsoluteUrl:function(){return n},isResSent:function(){return d},loadGetInitialProps:function(){return h},normalizeRepeatedSlashes:function(){return u},stringifyError:function(){return y}});let s=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,r=!1;return function(){for(var s=arguments.length,i=Array(s),a=0;a<s;a++)i[a]=arguments[a];return r||(r=!0,t=e(...i)),t}}let a=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,n=e=>a.test(e);function l(){let{protocol:e,hostname:t,port:r}=window.location;return e+"//"+t+(r?":"+r:"")}function o(){let{href:e}=window.location,t=l();return e.substring(t.length)}function c(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function d(e){return e.finished||e.headersSent}function u(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function h(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await h(t.Component,t.ctx)}:{};let s=await e.getInitialProps(t);if(r&&d(r))return s;if(!s)throw Object.defineProperty(Error('"'+c(e)+'.getInitialProps()" should resolve to an object. But found "'+s+'" instead.'),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return s}let f="undefined"!=typeof performance,m=f&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class p extends Error{}class x extends Error{}class v extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class g extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class j extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function y(e){return JSON.stringify({message:e.message,stack:e.stack})}},9990,e=>{"use strict";e.s(["CourseForm",()=>w],9990);var t=e.i(98401),r=e.i(79556),s=e.i(58984),i=e.i(16752),a=e.i(68022),n=e.i(2481),l=e.i(77978),o=e.i(9772),c=e.i(76264),d=e.i(84400),u=e.i(9621),h=e.i(256),f=e.i(53533),m=e.i(3e3),p=e.i(94097);let x=(0,e.i(34462).default)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var v=e.i(56293);let g=(0,r.createContext)({}),j=e=>{let{children:s}=e,[i,a]=(0,r.useState)(null),[n,l]=(0,r.useState)(null),o=()=>{a(null),l(null)};return(0,t.jsx)(g.Provider,{value:{draggedItem:i,dropTarget:n,setDropTarget:l,handleDragStart:(e,t)=>{a({...e,type:t})},handleDragEnd:o,handleDragOver:e=>{e.preventDefault()},handleDrop:(e,t)=>{i&&e&&i.id!==e.id&&t(i,e),o()}},children:s})},y=e=>{let{item:s,type:i,children:a,onReorder:n,className:l=""}=e,{handleDragStart:o,handleDragEnd:c,handleDragOver:d,handleDrop:u}=(()=>{let e=(0,r.useContext)(g);if(!e)throw Error("useDragDrop must be used within a DragDropProvider");return e})();return(0,t.jsx)("div",{draggable:!0,onDragStart:()=>o(s,i),onDragEnd:c,onDragOver:d,onDrop:()=>u(s,n),className:"cursor-move ".concat(l),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(x,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),(0,t.jsx)("div",{className:"flex-1",children:a})]})})};var b=e.i(84684);let w=()=>{let e=(0,s.useNavigate)(),{id:g}=(0,s.useParams)(),w=!!g,[_,C]=(0,r.useState)(!1),[N,S]=(0,r.useState)([]),[k,P]=(0,r.useState)({title:"",slug:"",description:"",level:"beginner",status:"draft",price:"",category_id:"",featured_image:"",what_you_learn:[""],target_audience:"",modules:[]});(0,r.useEffect)(()=>{A(),w&&O()},[g]);let A=async()=>{try{let{data:e}=await h.categories.getAll();S(e||[])}catch(e){}},O=async()=>{try{C(!0);let{data:t,error:r}=await h.courses.getById(g);if(r)throw r;if(t){var e;P({title:t.title||"",slug:t.slug||"",description:t.description||"",level:t.level||"beginner",status:t.status||"draft",price:(null==(e=t.price)?void 0:e.toString())||"",category_id:t.category_id||"",featured_image:t.featured_image||"",what_you_learn:t.what_you_learn||[""],target_audience:t.target_audience||"",modules:t.modules||[]})}}catch(e){}finally{C(!1)}},z=(e,t)=>{P(r=>({...r,[e]:t})),"title"!==e||w||P(e=>({...e,slug:(0,f.generateSlug)(t)}))},E=(e,t,r)=>{let s=[...k.modules];s[e]={...s[e],[t]:r},P(e=>({...e,modules:s}))},I=(e,t,r,s)=>{let i=[...k.modules];i[e].lessons[t]={...i[e].lessons[t],[r]:s},P(e=>({...e,modules:i}))},R=(e,t)=>{let r=[...k.modules],s=r.findIndex(t=>t.id===e.id),i=r.findIndex(e=>e.id===t.id),[a]=r.splice(s,1);r.splice(i,0,a),r.forEach((e,t)=>{e.sort_order=t}),P(e=>({...e,modules:r}))},T=async e=>{let t=e.target.files[0];if(t)try{C(!0);let e=t.name.split(".").pop(),r="".concat(Date.now(),".").concat(e),s="courses/".concat(r),{error:i}=await u.supabase.storage.from("images").upload(s,t);if(i)throw i;let{data:{publicUrl:a}}=u.supabase.storage.from("images").getPublicUrl(s);P(e=>({...e,featured_image:a}))}catch(e){}finally{C(!1)}},M=async t=>{t.preventDefault();try{let t;C(!0);let r={...k,price:parseFloat(k.price)||0};if((t=w?await h.courses.update(g,r):await h.courses.create(r)).error)throw t.error;b.toast.success(w?"Curso atualizado com sucesso!":"Curso criado com sucesso!"),e("/admin/courses")}catch(e){b.toast.error("Erro ao salvar curso")}finally{C(!1)}};return _&&w?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(0,t.jsxs)("div",{className:"p-6 max-w-6xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center mb-6",children:[(0,t.jsxs)(i.Button,{variant:"ghost",onClick:()=>e("/admin/courses"),className:"mr-4",children:[(0,t.jsx)(v.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Voltar"]}),(0,t.jsx)("h1",{className:"text-3xl font-bold",children:w?"Editar Curso":"Novo Curso"})]}),(0,t.jsx)(j,{children:(0,t.jsxs)("form",{onSubmit:M,className:"space-y-6",children:[(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsx)(a.CardTitle,{children:"Informações Básicas"})}),(0,t.jsxs)(a.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{htmlFor:"title",children:"Título *"}),(0,t.jsx)(n.Input,{id:"title",value:k.title,onChange:e=>z("title",e.target.value),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{htmlFor:"slug",children:"Slug"}),(0,t.jsx)(n.Input,{id:"slug",value:k.slug,onChange:e=>z("slug",e.target.value)})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{htmlFor:"description",children:"Descrição *"}),(0,t.jsx)(o.Textarea,{id:"description",value:k.description,onChange:e=>z("description",e.target.value),rows:3,required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{htmlFor:"level",children:"Nível"}),(0,t.jsxs)(c.Select,{value:k.level,onValueChange:e=>z("level",e),children:[(0,t.jsx)(c.SelectTrigger,{children:(0,t.jsx)(c.SelectValue,{})}),(0,t.jsxs)(c.SelectContent,{children:[(0,t.jsx)(c.SelectItem,{value:"beginner",children:"Iniciante"}),(0,t.jsx)(c.SelectItem,{value:"intermediate",children:"Intermediário"}),(0,t.jsx)(c.SelectItem,{value:"advanced",children:"Avançado"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{htmlFor:"price",children:"Preço (R$)"}),(0,t.jsx)(n.Input,{id:"price",type:"number",step:"0.01",value:k.price,onChange:e=>z("price",e.target.value),placeholder:"0.00"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{htmlFor:"category",children:"Categoria"}),(0,t.jsxs)(c.Select,{value:k.category_id,onValueChange:e=>z("category_id",e),children:[(0,t.jsx)(c.SelectTrigger,{children:(0,t.jsx)(c.SelectValue,{placeholder:"Selecione uma categoria"})}),(0,t.jsx)(c.SelectContent,{children:N.map(e=>(0,t.jsx)(c.SelectItem,{value:e.id,children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{htmlFor:"status",children:"Status"}),(0,t.jsxs)(c.Select,{value:k.status,onValueChange:e=>z("status",e),children:[(0,t.jsx)(c.SelectTrigger,{children:(0,t.jsx)(c.SelectValue,{})}),(0,t.jsxs)(c.SelectContent,{children:[(0,t.jsx)(c.SelectItem,{value:"draft",children:"Rascunho"}),(0,t.jsx)(c.SelectItem,{value:"published",children:"Publicado"}),(0,t.jsx)(c.SelectItem,{value:"archived",children:"Arquivado"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{htmlFor:"target_audience",children:"Público-alvo"}),(0,t.jsx)(o.Textarea,{id:"target_audience",value:k.target_audience,onChange:e=>z("target_audience",e.target.value),rows:2,placeholder:"Para quem é este curso?"})]})]})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsx)(a.CardTitle,{children:"Imagem em Destaque"})}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{htmlFor:"image-upload",children:"Upload de Imagem"}),(0,t.jsx)(n.Input,{id:"image-upload",type:"file",accept:"image/*",onChange:T,className:"cursor-pointer"})]}),k.featured_image&&(0,t.jsx)("div",{children:(0,t.jsx)("img",{src:k.featured_image,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{htmlFor:"image-url",children:"URL da Imagem"}),(0,t.jsx)(n.Input,{id:"image-url",value:k.featured_image,onChange:e=>z("featured_image",e.target.value),placeholder:"https://exemplo.com/imagem.jpg"})]})]})})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)(a.CardTitle,{children:"O que você vai aprender"}),(0,t.jsxs)(i.Button,{type:"button",onClick:()=>{P(e=>({...e,what_you_learn:[...e.what_you_learn,""]}))},size:"sm",children:[(0,t.jsx)(m.Plus,{className:"h-4 w-4 mr-2"}),"Adicionar"]})]})}),(0,t.jsx)(a.CardContent,{children:(0,t.jsx)("div",{className:"space-y-3",children:k.what_you_learn.map((e,r)=>(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(n.Input,{value:e,onChange:e=>((e,t)=>{let r=[...k.what_you_learn];r[e]=t,P(e=>({...e,what_you_learn:r}))})(r,e.target.value),placeholder:"Ex: Técnicas básicas de corte",className:"flex-1"}),(0,t.jsx)(i.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{k.what_you_learn.length>1&&P(e=>({...e,what_you_learn:e.what_you_learn.filter((e,t)=>t!==r)}))},disabled:1===k.what_you_learn.length,children:(0,t.jsx)(p.Trash2,{className:"h-4 w-4"})})]},r))})})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)(a.CardTitle,{children:"Módulos do Curso"}),(0,t.jsxs)(i.Button,{type:"button",onClick:()=>{let e={id:Date.now(),title:"",description:"",sort_order:k.modules.length,lessons:[]};P(t=>({...t,modules:[...t.modules,e]}))},size:"sm",children:[(0,t.jsx)(m.Plus,{className:"h-4 w-4 mr-2"}),"Adicionar Módulo"]})]})}),(0,t.jsx)(a.CardContent,{children:(0,t.jsx)("div",{className:"space-y-6",children:k.modules.map((e,r)=>(0,t.jsx)(y,{item:e,type:"module",onReorder:R,children:(0,t.jsxs)(a.Card,{className:"border-l-4 border-l-primary",children:[(0,t.jsx)(a.CardHeader,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(x,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)(d.Badge,{variant:"outline",children:["Módulo ",r+1]})]}),(0,t.jsx)(i.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{P(e=>({...e,modules:e.modules.filter((e,t)=>t!==r)}))},children:(0,t.jsx)(p.Trash2,{className:"h-4 w-4"})})]})}),(0,t.jsxs)(a.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{children:"Título do Módulo"}),(0,t.jsx)(n.Input,{value:e.title,onChange:e=>E(r,"title",e.target.value),placeholder:"Ex: Fundamentos da Culinária"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{children:"Descrição"}),(0,t.jsx)(o.Textarea,{value:e.description,onChange:e=>E(r,"description",e.target.value),rows:2,placeholder:"Descrição do módulo..."})]}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Aulas"}),(0,t.jsxs)(i.Button,{type:"button",onClick:()=>(e=>{let t={id:Date.now(),title:"",description:"",video_url:"",duration_minutes:"",is_preview:!1,sort_order:k.modules[e].lessons.length},r=[...k.modules];r[e].lessons.push(t),P(e=>({...e,modules:r}))})(r),size:"sm",variant:"outline",children:[(0,t.jsx)(m.Plus,{className:"h-4 w-4 mr-2"}),"Adicionar Aula"]})]}),(0,t.jsx)("div",{className:"space-y-3",children:e.lessons.map((e,s)=>(0,t.jsx)(y,{item:e,type:"lesson",onReorder:(e,t)=>((e,t,r)=>{let s=[...k.modules],i=s[e].lessons,a=i.findIndex(e=>e.id===t.id),n=i.findIndex(e=>e.id===r.id),[l]=i.splice(a,1);i.splice(n,0,l),i.forEach((e,t)=>{e.sort_order=t}),P(e=>({...e,modules:s}))})(r,e,t),children:(0,t.jsxs)("div",{className:"border rounded-lg p-3 bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)(d.Badge,{variant:"secondary",size:"sm",children:["Aula ",s+1]}),(0,t.jsx)(i.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>((e,t)=>{let r=[...k.modules];r[e].lessons=r[e].lessons.filter((e,r)=>r!==t),P(e=>({...e,modules:r}))})(r,s),children:(0,t.jsx)(p.Trash2,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{children:"Título da Aula"}),(0,t.jsx)(n.Input,{value:e.title,onChange:e=>I(r,s,"title",e.target.value),placeholder:"Título da aula",size:"sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.Label,{children:"Duração (min)"}),(0,t.jsx)(n.Input,{type:"number",value:e.duration_minutes,onChange:e=>I(r,s,"duration_minutes",e.target.value),placeholder:"30",size:"sm"})]})]}),(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)(l.Label,{children:"URL do Vídeo"}),(0,t.jsx)(n.Input,{value:e.video_url,onChange:e=>I(r,s,"video_url",e.target.value),placeholder:"https://youtube.com/watch?v=...",size:"sm"})]}),(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)(l.Label,{children:"Descrição"}),(0,t.jsx)(o.Textarea,{value:e.description,onChange:e=>I(r,s,"description",e.target.value),rows:2,placeholder:"Descrição da aula..."})]}),(0,t.jsxs)("div",{className:"mt-2 flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"preview-".concat(r,"-").concat(s),checked:e.is_preview,onChange:e=>I(r,s,"is_preview",e.target.checked)}),(0,t.jsx)(l.Label,{htmlFor:"preview-".concat(r,"-").concat(s),children:"Aula gratuita (preview)"})]})]})},e.id))})]})]})]})},e.id))})})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,t.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>e("/admin/courses"),children:"Cancelar"}),(0,t.jsxs)(i.Button,{type:"submit",disabled:_,children:[_?"Salvando...":w?"Atualizar":"Criar"," Curso"]})]})]})})]})}},29487,(e,t,r)=>{let s="/admin/CourseForm";(window.__NEXT_P=window.__NEXT_P||[]).push([s,()=>e.r(9990)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([s])})},53139,e=>{e.v(t=>Promise.all(["static/chunks/5ef38176653a8c76.js"].map(t=>e.l(t))).then(()=>t(15703)))},53581,e=>{e.v(t=>Promise.all(["static/chunks/ff4f04e0588a786d.js"].map(t=>e.l(t))).then(()=>t(45871)))},75749,e=>{e.v(e=>Promise.resolve().then(()=>e(65710)))}]);