import{j as e}from"./ui-vendor-CCxVMQ9B.js";import{r as a,L as o}from"./react-vendor-CN1YoO9o.js";import{C as h,b as u,a as j}from"./card-DDJFiqOK.js";import{B as d,I as f,h as p}from"./index-DStP_-PY.js";import{P as N}from"./plus-B7lLGJlf.js";import{S as v}from"./search-DyISHBFt.js";import{S as b}from"./square-pen--POmUCjf.js";import"./supabase-vendor-CqT5vMLU.js";import"./utils-vendor-BTGVH9Kg.js";const I=()=>{const[l,c]=a.useState([]),[m,r]=a.useState(!0),[i,x]=a.useState("");a.useEffect(()=>{(async()=>{r(!0);const{data:t}=await p.getAll(100,0);c(t||[]),r(!1)})()},[]);const n=l.filter(s=>{var t;return(t=s.title)==null?void 0:t.toLowerCase().includes(i.toLowerCase())});return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"E-books"}),e.jsx(o,{to:"/admin/ebooks/new",children:e.jsxs(d,{children:[e.jsx(N,{className:"w-4 h-4 mr-2"})," Novo E-book"]})})]}),e.jsxs(h,{children:[e.jsx(u,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{className:"w-4 h-4"}),e.jsx(f,{placeholder:"Buscar e-books",value:i,onChange:s=>x(s.target.value)})]})}),e.jsx(j,{children:m?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"space-y-3",children:[n.map(s=>e.jsxs("div",{className:"flex items-center justify-between border rounded-md px-4 py-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.title}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.slug})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(o,{to:`/admin/ebooks/${s.id}/edit`,children:e.jsxs(d,{variant:"outline",size:"sm",children:[e.jsx(b,{className:"w-4 h-4 mr-1"})," Editar"]})})})]},s.id)),n.length===0&&e.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Nenhum e-book encontrado."})]})})]})]})};export{I as EbooksAdmin,I as default};
