import{j as s}from"./ui-vendor-CCxVMQ9B.js";import{u as c,r as i}from"./react-vendor-CN1YoO9o.js";import{s as o}from"./index-DStP_-PY.js";import"./supabase-vendor-CqT5vMLU.js";import"./utils-vendor-BTGVH9Kg.js";const x=()=>{const e=c();return i.useEffect(()=>{(async()=>{try{const{data:a,error:t}=await o.auth.getSession();if(t){console.error("Auth callback error:",t),e("/");return}if(a.session){const n=a.session.user.id,{data:r}=await o.from("profiles").select("*").eq("id",n).single();if((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="super_admin"){e("/admin",{replace:!0});return}e("/")}else e("/")}catch(a){console.error("Auth callback error:",a),e("/")}})()},[e]),s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto",role:"status","aria-label":"Processando"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Processando autenticação..."})]})})};export{x as AuthCallback};
