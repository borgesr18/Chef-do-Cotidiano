import{b as F,r as _,g as M}from"./index-DStP_-PY.js";import{r as o}from"./react-vendor-CN1YoO9o.js";/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=F("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),g=[{id:1,title:"Bife Ancho Grelhado",description:"Corte nobre grelhado na perfeição com temperos especiais",featured_image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400&h=300&fit=crop",total_time:25,difficulty:"Médio",avg_rating:4.8,author_name:"Chef Rodrigo",category_name:"Carnes",is_featured:!0,status:"published"},{id:2,title:"Picanha na Brasa",description:"A rainha do churrasco brasileiro preparada com maestria",featured_image:"https://images.unsplash.com/photo-1529193591184-b1d58069ecdd?w=400&h=300&fit=crop",total_time:35,difficulty:"Médio",avg_rating:4.9,author_name:"Chef Rodrigo",category_name:"Carnes",is_featured:!0,status:"published"},{id:3,title:"Costela Assada",description:"Costela suculenta assada lentamente com temperos especiais",featured_image:"https://images.unsplash.com/photo-1544025162-d76694265947?w=400&h=300&fit=crop",total_time:180,difficulty:"Difícil",avg_rating:4.7,author_name:"Chef Rodrigo",category_name:"Carnes",is_featured:!1,status:"published"},{id:4,title:"Spaghetti Carbonara",description:"Clássico italiano com ovos, queijo e pancetta",featured_image:"https://images.unsplash.com/photo-1621996346565-e3dbc353d2e5?w=400&h=300&fit=crop",total_time:20,difficulty:"Fácil",avg_rating:4.6,author_name:"Chef Rodrigo",category_name:"Massas",is_featured:!0,status:"published"},{id:5,title:"Lasanha Bolonhesa",description:"Camadas de massa, molho bolonhesa e queijo derretido",featured_image:"https://images.unsplash.com/photo-1574894709920-11b28e7367e3?w=400&h=300&fit=crop",total_time:90,difficulty:"Médio",avg_rating:4.8,author_name:"Chef Rodrigo",category_name:"Massas",is_featured:!1,status:"published"},{id:6,title:"Salmão Grelhado",description:"Salmão fresco grelhado com ervas e limão",featured_image:"https://images.unsplash.com/photo-1467003909585-2f8a72700288?w=400&h=300&fit=crop",total_time:15,difficulty:"Fácil",avg_rating:4.7,author_name:"Chef Rodrigo",category_name:"Frutos do Mar",is_featured:!0,status:"published"}],E=(l={})=>{const{category:t,featured:r=!1,autoFetch:C=!0,limit:c=10}=l,[y,n]=o.useState([]),[R,i]=o.useState(!1),[d,a]=o.useState(null),[h,w]=o.useState(!0),b=o.useCallback(async(f=0,u=!1)=>{try{i(!0),a(null);let e;if(r?(e=await _.getPublished(c,f),e.data&&(e.data=e.data.filter(s=>s.is_featured))):t?e=await _.getByCategory(t,c,f):e=await _.getPublished(c,f),e.error){let s=g;r?s=g.filter(p=>p.is_featured):t&&(s=g.filter(p=>{var S;return((S=p.category_name)==null?void 0:S.toLowerCase())===(t==null?void 0:t.toLowerCase())})),n(s),w(!1),i(!1);return}const m=e.data||[];n(u||f===0?m:s=>[...s,...m]),w(m.length===c)}catch(e){let m=g;r?m=g.filter(s=>s.is_featured):t&&(m=g.filter(s=>{var p;return((p=s.category_name)==null?void 0:p.toLowerCase())===(t==null?void 0:t.toLowerCase())})),n(m),w(!1),a(e),i(!1)}finally{i(!1)}},[t,r,c]),k=()=>{!R&&h&&b(y.length,!1)},x=()=>{b(0,!0)},B=async(f,u={})=>{try{i(!0),a(null);const e=await _.search(f,u);if(e.error){a(e.error);return}n(e.data||[]),w(!1)}catch(e){a(e)}finally{i(!1)}},L=async f=>{try{i(!0),a(null);const u=await _.getBySlug(f);return u.error?(a(u.error),null):u.data}catch(u){return a(u),null}finally{i(!1)}};return o.useEffect(()=>{C&&b(0,!0)},[t,r,C,c,b]),{data:y,recipes:y,loading:R,error:d,hasMore:h,fetchRecipes:b,loadMore:k,refresh:x,search:B,getBySlug:L}},v=[{id:1,title:"Bife Ancho Grelhado",description:"Corte nobre grelhado na perfeição com temperos especiais",featured_image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400&h=300&fit=crop",total_time:25,difficulty:"Médio",avg_rating:4.8,author_name:"Chef Rodrigo",category_name:"Carnes",is_featured:!0,status:"published",slug:"bife-ancho-grelhado"},{id:2,title:"Picanha na Brasa",description:"A rainha do churrasco brasileiro preparada com maestria",featured_image:"https://images.unsplash.com/photo-1529193591184-b1d58069ecdd?w=400&h=300&fit=crop",total_time:35,difficulty:"Médio",avg_rating:4.9,author_name:"Chef Rodrigo",category_name:"Carnes",is_featured:!0,status:"published",slug:"picanha-na-brasa"},{id:3,title:"Costela Assada",description:"Costela suculenta assada lentamente com temperos especiais",featured_image:"https://images.unsplash.com/photo-1544025162-d76694265947?w=400&h=300&fit=crop",total_time:180,difficulty:"Difícil",avg_rating:4.7,author_name:"Chef Rodrigo",category_name:"Carnes",is_featured:!1,status:"published",slug:"costela-assada"},{id:4,title:"Spaghetti Carbonara",description:"Clássico italiano com ovos, queijo e pancetta",featured_image:"https://images.unsplash.com/photo-1621996346565-e3dbc353d2e5?w=400&h=300&fit=crop",total_time:20,difficulty:"Fácil",avg_rating:4.6,author_name:"Chef Rodrigo",category_name:"Massas",is_featured:!0,status:"published",slug:"spaghetti-carbonara"},{id:5,title:"Lasanha Bolonhesa",description:"Camadas de massa, molho bolonhesa e queijo derretido",featured_image:"https://images.unsplash.com/photo-1574894709920-11b28e7367e3?w=400&h=300&fit=crop",total_time:90,difficulty:"Médio",avg_rating:4.8,author_name:"Chef Rodrigo",category_name:"Massas",is_featured:!1,status:"published",slug:"lasanha-bolonhesa"},{id:6,title:"Salmão Grelhado",description:"Salmão fresco grelhado com ervas e limão",featured_image:"https://images.unsplash.com/photo-1467003909585-2f8a72700288?w=400&h=300&fit=crop",total_time:15,difficulty:"Fácil",avg_rating:4.7,author_name:"Chef Rodrigo",category_name:"Frutos do Mar",is_featured:!0,status:"published",slug:"salmao-grelhado"}],j=l=>{const[t,r]=o.useState(null),[C,c]=o.useState(!0),[y,n]=o.useState(null);return o.useEffect(()=>{if(!l)return;(async()=>{try{c(!0),n(null);const i=new Promise((a,h)=>setTimeout(()=>h(new Error("API timeout")),2e3)),d=await Promise.race([_.getBySlug(l),i]);if(d.error){const a=v.find(h=>h.slug===l||M(h.title)===l);a?r(a):n(d.error);return}r(d.data)}catch(i){const d=v.find(a=>a.slug===l||M(a.title)===l);d?r(d):n(i)}finally{c(!1)}})()},[l]),{recipe:t,loading:C,error:y,setRecipe:r}};export{q as S,j as a,E as u};
