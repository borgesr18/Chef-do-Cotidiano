import{j as e}from"./ui-vendor-CCxVMQ9B.js";import{f as F,r as n,L as N}from"./react-vendor-CN1YoO9o.js";import{I as P,B as t,g as E,H as z}from"./index-DStP_-PY.js";import{C as v,b,a as C,c as _,d as A}from"./card-DDJFiqOK.js";import{B as D}from"./badge-B80lkMBr.js";import{u as I,S as O}from"./useRecipes-Dik4cxr9.js";import{u as G}from"./useCategories-7MF5cVH2.js";import{S as H}from"./SEO-BV2VGWhT.js";import{L as U}from"./LazyImage-BTHAI7S6.js";import{S as Q}from"./search-DyISHBFt.js";import{F as $}from"./filter-vatleOQN.js";import{S as q}from"./star-BCJjEaYq.js";import{C as J}from"./clock-Wc9Bu7ld.js";import{U as K}from"./users-jO4XmtX7.js";import"./supabase-vendor-CqT5vMLU.js";import"./utils-vendor-BTGVH9Kg.js";const me=()=>{const[m,u]=F(),[i,f]=n.useState(m.get("search")||""),[a,h]=n.useState(m.get("category")||""),[r,d]=n.useState(m.get("sort")||"popular"),{recipes:x,loading:y,hasMore:w,loadMore:k,search:S,refresh:R}=I(),{categories:g}=G();n.useEffect(()=>{const s=new URLSearchParams;i&&s.set("search",i),a&&s.set("category",a),r!=="popular"&&s.set("sort",r),u(s)},[i,a,r,u]),n.useEffect(()=>{i||a?S(i,{category:a,sort:r}):R()},[i,a,r]);const L=[{id:1,title:"Bife Ancho Grelhado",description:"Corte nobre grelhado na perfeição com temperos especiais",image:"https://images.unsplash.com/photo-1546833999-b9f581a1996d?w=400&h=300&fit=crop",cookTime:"25 min",difficulty:"Médio",rating:4.8,author:"Chef Rodrigo",category:"Carnes"},{id:2,title:"Carbonara Autêntica",description:"A verdadeira receita italiana com ovos, queijo e pancetta",image:"https://images.unsplash.com/photo-1621996346565-e3dbc353d2e5?w=400&h=300&fit=crop",cookTime:"20 min",difficulty:"Fácil",rating:4.6,author:"Chef Rodrigo",category:"Massas"},{id:3,title:"Churrasco de Picanha Premium",description:"Técnicas profissionais para o churrasco perfeito",image:"https://images.unsplash.com/photo-1529193591184-b1d58069ecdd?w=400&h=300&fit=crop",cookTime:"45 min",difficulty:"Difícil",rating:4.7,author:"Chef Rodrigo",category:"Churrasco"},{id:4,title:"Salmão Grelhado com Ervas",description:"Peixe fresco com marinada de ervas mediterrâneas",image:"https://images.unsplash.com/photo-1467003909585-2f8a72700288?w=400&h=300&fit=crop",cookTime:"30 min",difficulty:"Médio",rating:4.5,author:"Chef Rodrigo",category:"Frutos do Mar"},{id:5,title:"Caipirinha Tradicional",description:"O drink brasileiro mais famoso do mundo",image:"https://images.unsplash.com/photo-1551538827-9c037cb4f32a?w=400&h=300&fit=crop",cookTime:"5 min",difficulty:"Fácil",rating:4.9,author:"Chef Rodrigo",category:"Bebidas"},{id:6,title:"Brigadeiro Gourmet",description:"O doce brasileiro mais amado em versão sofisticada",image:"https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=400&h=300&fit=crop",cookTime:"15 min",difficulty:"Fácil",rating:4.8,author:"Chef Rodrigo",category:"Sobremesas"}],M=[{id:1,name:"Carnes",slug:"carnes"},{id:2,name:"Massas",slug:"massas"},{id:3,name:"Churrasco",slug:"churrasco"},{id:4,name:"Frutos do Mar",slug:"frutos-do-mar"},{id:5,name:"Bebidas",slug:"bebidas"},{id:6,name:"Sobremesas",slug:"sobremesas"}],T=x.length>0?x:L,B=g.length>0?g:M,o=T.filter(s=>{var p,j;const c=!i||s.title.toLowerCase().includes(i.toLowerCase())||s.description.toLowerCase().includes(i.toLowerCase()),l=!a||((p=s.category)==null?void 0:p.toLowerCase())===a.toLowerCase()||((j=s.category_name)==null?void 0:j.toLowerCase())===a.toLowerCase();return c&&l});return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(H,{title:"Receitas - Chef do Cotidiano",description:"Explore nossa coleção completa de receitas deliciosas. Encontre pratos principais, sobremesas, lanches e muito mais.",image:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=1200&h=630&fit=crop"}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("nav",{className:"text-sm text-muted-foreground mb-4",children:[e.jsx(N,{to:"/",className:"hover:text-primary",children:"Início"}),e.jsx("span",{className:"mx-2",children:"/"}),e.jsx("span",{children:"Receitas"}),a&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-2",children:"/"}),e.jsx("span",{className:"capitalize",children:a})]})]}),e.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:a?`Receitas de ${a}`:"Todas as Receitas"}),e.jsx("p",{className:"text-muted-foreground",children:"Descubra receitas deliciosas e fáceis de fazer"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("aside",{className:"lg:w-64 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Buscar"}),e.jsxs("div",{className:"relative",children:[e.jsx(Q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(P,{type:"text",placeholder:"Buscar receitas...",value:i,onChange:s=>f(s.target.value),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Categorias"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{variant:a?"ghost":"default",className:"w-full justify-start",onClick:()=>h(""),children:"Todas as Receitas"}),B.map(s=>e.jsx(t,{variant:a===s.slug?"default":"ghost",className:"w-full justify-start",onClick:()=>h(s.slug),children:s.name},s.id))]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Ordenar por"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{variant:r==="popular"?"default":"ghost",className:"w-full justify-start",onClick:()=>d("popular"),children:"Mais Populares"}),e.jsx(t,{variant:r==="recent"?"default":"ghost",className:"w-full justify-start",onClick:()=>d("recent"),children:"Mais Recentes"}),e.jsx(t,{variant:r==="rating"?"default":"ghost",className:"w-full justify-start",onClick:()=>d("rating"),children:"Melhor Avaliadas"}),e.jsx(t,{variant:r==="time"?"default":"ghost",className:"w-full justify-start",onClick:()=>d("time"),children:"Tempo de Preparo"})]})]})]}),e.jsxs("main",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("p",{className:"text-muted-foreground",children:[o.length," receita",o.length!==1?"s":""," encontrada",o.length!==1?"s":""]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(t,{variant:"outline",size:"sm",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Filtros"]})})]}),y?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((s,c)=>e.jsxs(v,{className:"overflow-hidden animate-pulse",children:[e.jsx("div",{className:"w-full h-48 bg-muted"}),e.jsxs(b,{children:[e.jsx("div",{className:"h-6 bg-muted rounded mb-2"}),e.jsx("div",{className:"h-4 bg-muted rounded"})]}),e.jsxs(C,{children:[e.jsx("div",{className:"h-4 bg-muted rounded mb-4"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-20"}),e.jsx("div",{className:"h-4 bg-muted rounded w-16"})]})]})]},c))}):o.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Nenhuma receita encontrada com os filtros selecionados."}),e.jsx(t,{onClick:()=>{f(""),h("")},children:"Limpar Filtros"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(s=>{const c=s.slug||E(s.title);return e.jsx(N,{to:`/recipes/${c}`,children:e.jsxs(v,{className:"overflow-hidden hover:shadow-xl transition-shadow group cursor-pointer",children:[e.jsxs("div",{className:"relative",children:[e.jsx(U,{src:s.featured_image||s.image,alt:s.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx(t,{size:"sm",variant:"secondary",className:"rounded-full",onClick:l=>l.preventDefault(),children:e.jsx(z,{className:"h-4 w-4"})})}),e.jsx(D,{className:"absolute bottom-4 left-4",children:s.category_name||s.category})]}),e.jsxs(b,{children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx(_,{className:"text-xl group-hover:text-primary transition-colors",children:s.title}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(q,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"text-sm font-medium",children:s.avg_rating||s.rating||"4.5"})]})]}),e.jsx(A,{children:s.description})]}),e.jsxs(C,{children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(J,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.total_time||s.cookTime||"30"," min"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(K,{className:"h-4 w-4"}),e.jsx("span",{children:s.difficulty||"Médio"})]})]})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:["por ",s.author_name||s.author||"Chef Rodrigo"]}),e.jsx(t,{size:"sm",variant:"ghost",onClick:l=>l.preventDefault(),children:e.jsx(O,{className:"h-4 w-4"})})]})]})]})},s.id)})}),w&&e.jsx("div",{className:"text-center mt-12",children:e.jsx(t,{size:"lg",variant:"outline",onClick:k,children:"Carregar Mais Receitas"})})]})]})]})]})]})};export{me as RecipesPage,me as default};
